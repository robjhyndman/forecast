<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fit best ARIMA model to univariate time series — auto.arima • forecast</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Sans-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Fit best ARIMA model to univariate time series — auto.arima"><meta name="description" content="Returns best ARIMA model according to either AIC, AICc or BIC value. The
function conducts a search over possible model within the order constraints
provided."><meta property="og:description" content="Returns best ARIMA model according to either AIC, AICc or BIC value. The
function conducts a search over possible model within the order constraints
provided."><meta property="og:image" content="https://pkg.robjhyndman.com/forecast/logo.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">forecast</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.24.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://cran.r-project.org/web/packages/forecast/vignettes/JSS2008.pdf">JSS paper</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Change Log</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/robjhyndman/forecast/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Fit best ARIMA model to univariate time series</h1>
      <small class="dont-index">Source: <a href="https://github.com/robjhyndman/forecast/blob/master/R/newarima2.R" class="external-link"><code>R/newarima2.R</code></a></small>
      <div class="d-none name"><code>auto.arima.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Returns best ARIMA model according to either AIC, AICc or BIC value. The
function conducts a search over possible model within the order constraints
provided.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">auto.arima</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  d <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  D <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  max.p <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  max.q <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  max.P <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  max.Q <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  max.order <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  max.d <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  max.D <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  start.p <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  start.q <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  start.P <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  start.Q <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  stationary <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  seasonal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aicc"</span>, <span class="st">"aic"</span>, <span class="st">"bic"</span><span class="op">)</span>,</span>
<span>  stepwise <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nmodels <span class="op">=</span> <span class="fl">94</span>,</span>
<span>  trace <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  approximation <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">150</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/stats/time.html" class="external-link">frequency</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  truncate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xreg <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"kpss"</span>, <span class="st">"adf"</span>, <span class="st">"pp"</span><span class="op">)</span>,</span>
<span>  test.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  seasonal.test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"seas"</span>, <span class="st">"ocsb"</span>, <span class="st">"hegy"</span>, <span class="st">"ch"</span><span class="op">)</span>,</span>
<span>  seasonal.test.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  allowdrift <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  allowmean <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  lambda <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  biasadj <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  num.cores <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  x <span class="op">=</span> <span class="va">y</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>A univariate time series.</p></dd>


<dt id="arg-d">d<a class="anchor" aria-label="anchor" href="#arg-d"></a></dt>
<dd><p>Order of first-differencing. If missing, will choose a value based
on <code>test</code>.</p></dd>


<dt id="arg-d">D<a class="anchor" aria-label="anchor" href="#arg-d"></a></dt>
<dd><p>Order of seasonal-differencing. If missing, will choose a value
based on <code>season.test</code>.</p></dd>


<dt id="arg-max-p">max.p<a class="anchor" aria-label="anchor" href="#arg-max-p"></a></dt>
<dd><p>Maximum value of p.</p></dd>


<dt id="arg-max-q">max.q<a class="anchor" aria-label="anchor" href="#arg-max-q"></a></dt>
<dd><p>Maximum value of q.</p></dd>


<dt id="arg-max-p">max.P<a class="anchor" aria-label="anchor" href="#arg-max-p"></a></dt>
<dd><p>Maximum value of P.</p></dd>


<dt id="arg-max-q">max.Q<a class="anchor" aria-label="anchor" href="#arg-max-q"></a></dt>
<dd><p>Maximum value of Q.</p></dd>


<dt id="arg-max-order">max.order<a class="anchor" aria-label="anchor" href="#arg-max-order"></a></dt>
<dd><p>Maximum value of p+q+P+Q if model selection is not
stepwise.</p></dd>


<dt id="arg-max-d">max.d<a class="anchor" aria-label="anchor" href="#arg-max-d"></a></dt>
<dd><p>Maximum number of non-seasonal differences.</p></dd>


<dt id="arg-max-d">max.D<a class="anchor" aria-label="anchor" href="#arg-max-d"></a></dt>
<dd><p>Maximum number of seasonal differences.</p></dd>


<dt id="arg-start-p">start.p<a class="anchor" aria-label="anchor" href="#arg-start-p"></a></dt>
<dd><p>Starting value of p in stepwise procedure.</p></dd>


<dt id="arg-start-q">start.q<a class="anchor" aria-label="anchor" href="#arg-start-q"></a></dt>
<dd><p>Starting value of q in stepwise procedure.</p></dd>


<dt id="arg-start-p">start.P<a class="anchor" aria-label="anchor" href="#arg-start-p"></a></dt>
<dd><p>Starting value of P in stepwise procedure.</p></dd>


<dt id="arg-start-q">start.Q<a class="anchor" aria-label="anchor" href="#arg-start-q"></a></dt>
<dd><p>Starting value of Q in stepwise procedure.</p></dd>


<dt id="arg-stationary">stationary<a class="anchor" aria-label="anchor" href="#arg-stationary"></a></dt>
<dd><p>If <code>TRUE</code>, restricts search to stationary models.</p></dd>


<dt id="arg-seasonal">seasonal<a class="anchor" aria-label="anchor" href="#arg-seasonal"></a></dt>
<dd><p>If <code>FALSE</code>, restricts search to non-seasonal models.</p></dd>


<dt id="arg-ic">ic<a class="anchor" aria-label="anchor" href="#arg-ic"></a></dt>
<dd><p>Information criterion to be used in model selection.</p></dd>


<dt id="arg-stepwise">stepwise<a class="anchor" aria-label="anchor" href="#arg-stepwise"></a></dt>
<dd><p>If <code>TRUE</code>, will do stepwise selection (faster).
Otherwise, it searches over all models. Non-stepwise selection can be very
slow, especially for seasonal models.</p></dd>


<dt id="arg-nmodels">nmodels<a class="anchor" aria-label="anchor" href="#arg-nmodels"></a></dt>
<dd><p>Maximum number of models considered in the stepwise search.</p></dd>


<dt id="arg-trace">trace<a class="anchor" aria-label="anchor" href="#arg-trace"></a></dt>
<dd><p>If <code>TRUE</code>, the list of ARIMA models considered will be
reported.</p></dd>


<dt id="arg-approximation">approximation<a class="anchor" aria-label="anchor" href="#arg-approximation"></a></dt>
<dd><p>If <code>TRUE</code>, estimation is via conditional sums of
squares and the information criteria used for model selection are
approximated. The final model is still computed using maximum likelihood
estimation. Approximation should be used for long time series or a high
seasonal period to avoid excessive computation times.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>fitting method: maximum likelihood or minimize
    conditional sum-of-squares.  The default (unless there are missing
    values) is to use conditional-sum-of-squares to find starting
    values, then maximum likelihood.  Can be abbreviated.</p></dd>


<dt id="arg-truncate">truncate<a class="anchor" aria-label="anchor" href="#arg-truncate"></a></dt>
<dd><p>An integer value indicating how many observations to use in
model selection. The last <code>truncate</code> values of the series are used to
select a model when <code>truncate</code> is not <code>NULL</code> and
<code>approximation=TRUE</code>. All observations are used if either
<code>truncate=NULL</code> or <code>approximation=FALSE</code>.</p></dd>


<dt id="arg-xreg">xreg<a class="anchor" aria-label="anchor" href="#arg-xreg"></a></dt>
<dd><p>Optionally, a numerical vector or matrix of external regressors, which
must have the same number of rows as <code>y</code>. (It should not be a data frame.)</p></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>Type of unit root test to use. See <code><a href="ndiffs.html">ndiffs</a></code> for
details.</p></dd>


<dt id="arg-test-args">test.args<a class="anchor" aria-label="anchor" href="#arg-test-args"></a></dt>
<dd><p>Additional arguments to be passed to the unit root test.</p></dd>


<dt id="arg-seasonal-test">seasonal.test<a class="anchor" aria-label="anchor" href="#arg-seasonal-test"></a></dt>
<dd><p>This determines which method is used to select the number of seasonal differences.
The default method is to use a measure of seasonal strength computed from an STL decomposition.
Other possibilities involve seasonal unit root tests.</p></dd>


<dt id="arg-seasonal-test-args">seasonal.test.args<a class="anchor" aria-label="anchor" href="#arg-seasonal-test-args"></a></dt>
<dd><p>Additional arguments to be passed to the seasonal
unit root test.
See <code><a href="nsdiffs.html">nsdiffs</a></code> for details.</p></dd>


<dt id="arg-allowdrift">allowdrift<a class="anchor" aria-label="anchor" href="#arg-allowdrift"></a></dt>
<dd><p>If <code>TRUE</code>, models with drift terms are considered.</p></dd>


<dt id="arg-allowmean">allowmean<a class="anchor" aria-label="anchor" href="#arg-allowmean"></a></dt>
<dd><p>If <code>TRUE</code>, models with a non-zero mean are considered.</p></dd>


<dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p>Box-Cox transformation parameter. If <code>lambda="auto"</code>,
then a transformation is automatically selected using <code>BoxCox.lambda</code>.
The transformation is ignored if NULL. Otherwise,
data transformed before model is estimated.</p></dd>


<dt id="arg-biasadj">biasadj<a class="anchor" aria-label="anchor" href="#arg-biasadj"></a></dt>
<dd><p>Use adjusted back-transformed mean for Box-Cox
transformations. If transformed data is used to produce forecasts and fitted
values, a regular back transformation will result in median forecasts. If
biasadj is <code>TRUE</code>, an adjustment will be made to produce mean forecasts
and fitted values.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>If <code>TRUE</code> and <code>stepwise = FALSE</code>, then the
specification search is done in parallel. This can give a significant
speedup on multicore machines.</p></dd>


<dt id="arg-num-cores">num.cores<a class="anchor" aria-label="anchor" href="#arg-num-cores"></a></dt>
<dd><p>Allows the user to specify the amount of parallel processes
to be used if <code>parallel = TRUE</code> and <code>stepwise = FALSE</code>. If
<code>NULL</code>, then the number of logical cores is automatically detected and
all available cores are used.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Deprecated. Included for backwards compatibility.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to be passed to <code><a href="https://rdrr.io/r/stats/arima.html" class="external-link">arima</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Same as for <code><a href="Arima.html">Arima</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The default arguments are designed for rapid estimation of models for many time series.
If you are analysing just one time series, and can afford to take some more time, it
is recommended that you set <code>stepwise=FALSE</code> and <code>approximation=FALSE</code>.</p>
<p>Non-stepwise selection can be slow, especially for seasonal data. The stepwise
algorithm outlined in Hyndman &amp; Khandakar (2008) is used except that the default
method for selecting seasonal differences is now based on an estimate of seasonal
strength (Wang, Smith &amp; Hyndman, 2006) rather than the Canova-Hansen test.
There are also some other minor variations to the algorithm described in
Hyndman and Khandakar (2008).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Hyndman, RJ and Khandakar, Y (2008) "Automatic time series
forecasting: The forecast package for R", <em>Journal of Statistical
Software</em>, <b>26</b>(3).</p>
<p>Wang, X, Smith, KA, Hyndman, RJ (2006) "Characteristic-based clustering
for time series data", <em>Data Mining and Knowledge Discovery</em>,
<b>13</b>(3), 335-364.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="Arima.html">Arima</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Rob J Hyndman</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">auto.arima</span><span class="op">(</span><span class="va">WWWusage</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://generics.r-lib.org/reference/forecast.html" class="external-link">forecast</a></span><span class="op">(</span><span class="va">fit</span>,h<span class="op">=</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="auto.arima-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://robjhyndman.com" class="external-link">Rob Hyndman</a>, George Athanasopoulos, <a href="https://github.com/cbergmeir" class="external-link">Christoph Bergmeir</a>, <a href="https://github.com/gabrielcaceres" class="external-link">Gabriel Caceres</a>, Leanne Chhay, Kirill Kuroptev, <a href="https://github.com/mitchelloharawild" class="external-link">Mitchell O’Hara-Wild</a>, <a href="http://fpetropoulos.eu" class="external-link">Fotios Petropoulos</a>, <a href="https://github.com/slavarazbash" class="external-link">Slava Razbash</a>, <a href="http://earo.me" class="external-link">Earo Wang</a>, Farah Yasmeen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

